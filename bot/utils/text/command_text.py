from emoji import emojize
from typing import List
from datetime import datetime
from bot.req_api.user_api import UserApi
from bot.req_api.game_api import GameAPI

async def text_for_start_command(username: str) -> List:
    """
    Return text for start command
    """

    msg_text: List = [
        f"ะัะธะฒะตั, <b>{username}</b>, ั ะฑะพั ะดะปั ะธะทััะตะฝะธั ะธะฝะพัััะฐะฝะฝัั ัะทัะบะพะฒ!\n\n",
        "ะะดะตัั ัั ัะผะพะถะตัั ะฟะพะดััะฝััั ัะฒะพะธ ะทะฝะฐะฝะธั, ะฟััะตะผ ะพะฑััะฝะพะน ะธะณัั..\n",
        "<b><i>ะะฐ ะฒัะฑะพั ะตััั ะฝะตัะบะพะปัะบะพ ัะทัะบะพะฒ ะดะปั ะธะทััะตะฝะธั:</i></b>\n\n",
        f"๐ฌ๐ง English <b>-</b> ะะฝะณะปะธะนัะบะธะน\n๐ช๐ธ Spain <b>-</b> ะัะฟะฐะฝัะบะธะน\n๐ฉ๐ช Germany <b>-</b> ะะตะผะตัะบะธะน\n๐ซ๐ท Franch <b>-</b> ะคัะฐะฝััะทัะบะธะน\n๐ฏ๐ต Japanese <b>-</b> ะฏะฟะพะฝัะบะธะน\n๐ซ๐ฎ Finnish <b>-</b> ะคะธะฝัะบะธะน\n๐ณ๐ด Norway <b>-</b> ะะพัะฒะตะถัะบะธะน\n\n",
        "ะะฐะฒะฐะน ะถะต ะฝะต ะทะฐััะณะธะฒะฐะน, ะฟะพัะบะพัะตะต ะฝะฐัะฝะตะผ ะธะทััะตะฝะธะต!"
    ]

    return msg_text


async def text_for_description() -> str:
    """
    Text for description bot
    """

    desc: str = "ะฏ QuickBattle ะฑะพั, ะบะพัะพััะน ะฟะพะผะพะถะตั ัะตะฑะต ะธะทััะธัั ะฝะพะฒัะน ัะทัะบ ะฟััะตะผ ะธะฝัะตัะตัะฝัั ะฒะธะบัะพัะธะฝ!\n\nะะฐะฒะฐะน ะฝะฐัะฝะตะผ ะฝะฐัะต ั ัะพะฑะพะน ะพะฑััะตะฝะธะต!"
    return desc


async def text_for_help_command(username: str) -> List:
    """
    Return text for help command
    """

    msg_text: List= [
        "<b>ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ ะฟัะฝะบั ะฟะพะดะดะตัะถะบะธ {}</b>\n\n".format(username),
        "ะะฐ ะดะฐะฝะฝัะน ะผะพะผะตะฝั ะธะผะตัััั ัะฐะบะธะต ะบะพะผะฐะฝะดั:\n\n",
        "โ /start - ะะฐะฟััะบ ะฑะพัะฐ, ะฝะฐัะฐะปะพ ัะฐะฑะพัั ั ะฟัะธะปะพะถะตะฝะธะตะผ\n",
        "โ /help - ะัะฝะบั ะฟะพะดะดะตัะถะบะธ (ัะตะนัะฐั ะผั ะทะดะตัั)\n",
        "โ /game - ะะปะฐะฒะฝะฐั ะบะพะผะฐะฝะดะฐ ะดะปั ะทะฐะฟััะบะฐ ะธ ะฒัะฑะพัะฐ ัะตะถะธะผะฐ ะธะณัั\n",
        "โ /profile - ะะพะน ะฟัะพัะธะปั, ะฒะฐัะฐ ะปะธัะฝะฐั ัััะฐะฝะธัะฐ\n",
        "โ /stats - ะะพะปััะธัั ะผะธัะพะฒัั ััะฐัะธััะธะบั\n",
        "โ /review - ะััะฐะฒะธัั ัะฒะพะน ะพัะทัะฒ\n",
        "โ /country_information - ะััะพัะธัะตัะบะฐั ัะฟัะฐะฒะบะฐ\n",
        "โ /clear - ะัะผะตะฝะธัั ะบะฐะบะธะต-ะปะธะฑะพ ะดะตะนััะฒะธั\n\n" + \
        "๐ท <b>ะะพััะฝะตะฝะธะต ะบ ะฒะธะดะฐะผ ะธะณั:</b>\n\n",
        "๐ก<i>ะะฐััะตั ะฟะตัะตะฒะพะดะฐ</i> - ะะตัะตะฒะพะด ัะปะพะฒะฐ ั ะฒัะฑัะฐะฝะฝะพะณะพ ัะทัะบะฐ ะฝะฐ ััััะบะธะน, ะฒัะตะผั ะฝะตะพะณัะฐะฝะธัะตะฝะฝะพ, ะบะพะปะธัะตััะฒะพ ะฟะพะปััะฐะตะผัั ะพัะบะพะฒ ะฟัะธ ะฟัะฐะฒะธะปัะฝะพะผ ะพัะฒะตัะต - <b>5</b>\n\n",
        "๐ก<i>ะกะบะพัะพััะฝะพะน ะฑัะบะฒะฐัั</i> - ะะตัะตะฒะพะดะฐ ัะปะพะฒะฐ ั ะฒัะฑัะฐะฝะฝะพะณะพ ัะทัะบะฐ ะฝะฐ ััััะบะธะน ะฝะฐ ัะบะพัะพััั, ะฒัะตะผั - <b>3 ัะตะบัะฝะถั</b>, ะบะพะปะธัะตััะฒะพ ะฟะพะปััะฐะตะผั ะพัะบะพะฒ ะฟัะธ ะฟัะฐะฒะธะปัะฝะพะผ ะพัะฒะตัะต - <b>15</b>\n\n",
        "๐ก<i>ะะฑัะฐัะฝัะน ะฟะตัะตะฒะพะด</i> - ะะตัะตะฒะพะดะฐ ัะปะพะฒะฐ ั ััััะบะพะณะพ ะฝะฐ ะฒัะฑัะฐะฝะฝัะน ัะทัะบ, ะฒัะตะผั ะฝะตะพะณัะฐะฝะธัะตะฝะฝะพ, ะบะพะปะธัะตััะฒะพ ะฟะพะปััะฐะตะผัั ะพัะบะพะฒ ะฟัะธ ะฟัะฐะฒะธะปัะฝะพะผ ะพัะฒะตัะต - <b>5</b>\n\n",
        "\n\n๐ณ <b>ะะพัััะฟะฝัะต ัะทัะบะธ ะดะปั ะธะณั:</b>\n\n",
        "๐ฌ๐ง <b>ะะฝะณะปะธะนัะบะธะน (ะัะธัะฐะฝัะบะธะน)</b>\n",
        "๐ช๐ธ <b>ะัะฟะฐะฝัะบะธะน</b>\n",
        "๐ฉ๐ช <b>ะะตะผะตัะบะธะน</b>\n",
        "๐ซ๐ท <b>ะคัะฐะฝััะทัะบะธะน</b>\n",
        "๐ฏ๐ต <b>ะฏะฟะพะฝัะบะธะน</b>\n",
        "๐ซ๐ฎ <b>ะคะธะฝัะบะธะน</b>\n",
        "๐ณ๐ด <b>ะะพัะฒะตะถัะบะธะน</b>"
    ]

    return msg_text

async def text_for_profile(username: str) -> List:
    """
    Return list text for profile command
    """

    #Get user info
    information_about_user: dict = await UserApi().get_full_user_info()

    #Get user rank
    rank = await GameAPI().get_rank_user()

    msg_text: List = [
        "ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ ะปะธัะฝัะน ะฟัะพัะธะปั {}!\n\n".format(username),
        "๐ฏ ะะฐัะฐ <b><i>ะปะธัะฝะฐั</i></b> ััะฐัะธััะธะบะฐ:\n\n",
        f"๐ญ ะะฐัะต ะธะผั: {information_about_user.get('name_user')}\n\n",
        f"๐ฏ ะะฐั ััะตั: {information_about_user.get('score')}\n\n",
        f"๐ฅ ะะฐัะต ะผะตััะพ ะฒ ัะตะนัะธะฝะณะต: {rank.get('user_rank') if isinstance(rank, dict) else rank}\n\n",
        f"๐ ะะฐัะฐ ะฒะฐัะตะน ัะตะณะธัััะฐัะธะธ: {(datetime.fromisoformat(information_about_user.get('date_create').replace('T', ' '))).date()}\n\n",
        f"๐ ะะฐัะฐ ะพะฑะฝะพะฒะปะตะฝะธั ะฒะฐัะตะน ะธะฝัะพัะผะฐัะธะธ: {(datetime.fromisoformat(information_about_user.get('date_update').replace('T', ' '))).date()}\n\n",
        f"๐ ะะฐัะต ะบะพะปะธัะตััะฒะพ ะธะณั: {information_about_user.get('game_count')}\n\n",
        f"๐ ะะฐัะต ะพะฑัะตะต ะบะพะปะธัะตััะฒะพ ะธะณั: {len(information_about_user.get('histories'))}\n\n",
        f"๐ฃ ะะฐัะต ะบะพะปะธัะตััะฒะพ ะพัะทัะฒะพะฒ: {len(information_about_user.get('reviews'))}\n\n"
    ]

    return msg_text